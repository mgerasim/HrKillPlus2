<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Emulator call</title>
    <script type="text/javascript">

        function CallClick() {
            console.log('CallClick');
            let xhr = new XMLHttpRequest();
            xhr.open('POST', '/call');
            xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
            const call = new Object();
            call.staff = document.getElementById("staff").value;
            call.phone = document.getElementById("phone").value;
            xhr.send(JSON.stringify(call));
            return false;
        }

        document.addEventListener('DOMContentLoaded', function () {
            console.log('Готов!');
        });
    </script>
</head>


<body>
    <h1>Эмулирует звонок</h1>
    <label for="staff">Идентификатор сотрудника:</label>
    <input type="number"
           id="staff"
           name="staff">

    <label for="phone">Номер телефона:</label>
    <input type="text"
           id="phone"
           name="phone">

    <p>
        <button onclick="return CallClick()">
            Входящий звонок
        </button>
    </p>
</body>

</html>